<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&family=Pacifico&display=swap"
        rel="stylesheet">
    <title>Melhores Doces - Ramalho`s Sweets</title>
</head>

<body>
    <main>
        <div class="container">
            <h1 class="nome" id="nome-doce">título</h1>
            <div class="sliderPop">
                <button id="prevBtn">&#10094;</button>
                <img id="slider-img" src="" alt="">
                <button id="nextBtn">&#10095;</button>
            </div>

            <h2 class="tituloDesc" id="titulo-descricao-doce"> Titulo descriçao</h2>
            <p class="desc" id="descricao-doce">Descrição:</p>
            <h2 class="tituloWin" id="titulo-win"> Titulo descriçao</h2>
            <p class="win" id="descricao-win">Descrição:</p>

            <!--Preenchimento das informações-->
            <script>
                //Funcao para capturar os parâmetros
                function getParametros(info) {
                    const urlParametros = new URLSearchParams(window.location.search);
                    return urlParametros.get(info);
                }

                //Preenche as informações na pop
                document.getElementById('nome-doce').textContent = getParametros("nomeDoce");
                // document.getElementById('img-doce').src = getParametros("imagemDoce");
                document.getElementById('titulo-descricao-doce').textContent = getParametros("tituloDescricaoDoce");
                document.getElementById('descricao-doce').innerHTML = getParametros("descricaoDoce");
                document.getElementById('titulo-win').textContent = getParametros("tituloDescricaoWin");
                document.getElementById('descricao-win').innerHTML = getParametros("descricaoWin");


                
                /*Controle do Slider*/
                const imagens = getParametros("imagemDoce") ? getParametros("imagemDoce").split(',') : [];
                let index = 0;
                const sliderImg = document.getElementById("slider-img");

                function MostrarImagem() {
                    if (imagens.length > 0) {
                        sliderImg.src = imagens[index];
                    }
                }

                document.getElementById("prevBtn").onclick = function () {
                    index = (index - 1 + imagens.length) % imagens.length;
                    MostrarImagem();
                }

                document.getElementById("nextBtn").onclick = function () {
                    index = (index + 1) % imagens.length;
                    MostrarImagem();
                }

                //Exibe a primeira imagem
                MostrarImagem();

            </script>
        </div>
    </main>
</body>

</html>